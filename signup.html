<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cadastrar | AmbIn</title>
  <link rel="shortcut icon" href="assets/images/logo/LogoIcon.png" type="image/x-icon" />
  <link rel="stylesheet" href="assets/css/animate.css" />
  <link rel="stylesheet" href="assets/css/tailwind.css" />

  <!-- Firebase App (necessário para todas as funcionalidades do Firebase) -->
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js"></script>
  <!-- Firebase Authentication -->
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Verificar se a biblioteca do Firebase foi carregada
      if (typeof firebase === 'undefined') {
        alert('Erro ao carregar a biblioteca do Firebase.');
        return;
      }

      // Inicializar Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyA1l1MSDo_lt_-Ni70sdRX-bwncuymKgg0",
        authDomain: "startup-9d953.firebaseapp.com",
        projectId: "startup-9d953",
        storageBucket: "startup-9d953.appspot.com",
        messagingSenderId: "312708791552",
        appId: "1:312708791552:web:4d8dd5652f8e10c9e287e5",
        measurementId: "G-EL8WP495S7"
      };

      try {
        firebase.initializeApp(firebaseConfig);
        window.auth = firebase.auth();
        console.log('Firebase Auth inicializado com sucesso.');
      } catch (error) {
        console.error('Erro durante a inicialização do Firebase:', error);
        alert('Erro ao inicializar o Firebase Auth: ' + error.message);
      }
    });
  </script>
</head>

<body>
  <section class="bg-[#F4F7FF] py-14 lg:py-[90px] dark:bg-dark">
    <div class="container">
      <div class="flex flex-wrap -mx-4">
        <div class="w-full px-4">
          <div
            class="wow fadeInUp relative mx-auto max-w-[525px] overflow-hidden rounded-xl shadow-form bg-white dark:bg-dark-2 py-14 px-8 text-center sm:px-12 md:px-[60px]"
            data-wow-delay=".15s">
            <form id="signupForm">
              <div class="mb-[22px]">
                <input type="text" id="name" placeholder="Nome" class="w-full px-5 py-3" />
              </div>
              <div class="mb-[22px]">
                <input type="email" id="email" placeholder="Email" class="w-full px-5 py-3" />
              </div>
              <div class="mb-[22px]">
                <input type="password" id="password" placeholder="Senha" class="w-full px-5 py-3" />
              </div>
              <div class="mb-9">
                <button type="button" onclick="signUp()"
                  class="w-full px-5 py-3 text-white bg-primary">
                  Cadastrar
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    function signUp() {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;

      if (!email || !password) {
        alert('Por favor, preencha todos os campos.');
        return;
      }

      if (!window.auth) {
        console.error('Firebase Auth não foi inicializado.');
        alert('Firebase Auth não foi inicializado.');
        return;
      }

      window.auth.createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          console.log('Cadastro realizado com sucesso:', userCredential);
          alert('Cadastro realizado com sucesso!');
          window.location.href = 'index.html';
        })
        .catch((error) => {
          console.error('Erro no cadastro:', error);
          alert('Erro: ' + error.message);
        });
    }
  </script>
</body>

</html>
